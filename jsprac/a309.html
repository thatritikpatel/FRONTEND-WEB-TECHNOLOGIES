<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  
  <title>Document</title>
 </head>
 <body>
  
  <script>
	//Case 6:
	const getData = (resource)=>{
		return new Promise((resolve,reject)=>{
			const request = new XMLHttpRequest();

			request.addEventListener('readystatechange',()=>{
				if(request.readyState==4&&request.status==200){
					const data = JSON.parse(request.responseText);
					resolve(data);
				}else if(request.readyState==4){
					reject('no matching data found...');
				}
			});

			request.open('GET',resource);
			request.send();
		});
	};	

	getData('https://jsonplaceholder.typicode.com/todos/1').then((data)=>{
		console.log(data);
		return getData('https://jsonplaceholder.typicode.com/tods/2');
	}).then((data)=>{
		console.log(data);
		return getData('https://jsonplaceholder.typicode.com/todos/3');
	}).then((data)=>{
		console.log(data);
	}).catch((err)=>{
		console.log(err);
	});


	
	//Case 5:
	/*
	const getData = (resource)=>{
		return new Promise((resolve,reject)=>{
			const request = new XMLHttpRequest();

			request.addEventListener('readystatechange',()=>{
				if(request.readyState==4&&request.status==200){
					const data = JSON.parse(request.responseText);
					resolve(data);
				}else if(request.readyState==4){
					reject('no matching data found...');
				}
			});

			request.open('GET',resource);
			request.send();
		});
	};	

	getData('https://jsonplaceholder.typicode.com/todos/1').then((data)=>{
		console.log(data);
		getData('https://jsonplaceholder.typicode.com/todos/2').then((data)=>{
			console.log(data);
			getData('https://jsonplaceholder.typicode.com/todos/3').then((data)=>{
				console.log(data);
			}).catch((err)=>{	
				console.log(err);
			});
		}).catch((err)=>{
			console.log(err);
		});
	}).catch((err)=>{
		console.log(err);
	});
	*/

	
	//Case 4:
	/*
	const getData = (resource)=>{
		return new Promise((resolve,reject)=>{
			const request = new XMLHttpRequest();

			request.addEventListener('readystatechange',()=>{
				if(request.readyState==4&&request.status==200){
					const data = JSON.parse(request.responseText);
					resolve(data);
				}else if(request.readyState==4){
					reject('no matching data found...');
				}
			});

			request.open('GET',resource);
			request.send();
		});
	};	

	getData('https://jsonplaceholder.typicode.com/todos/1')
		.then((data)=>{
			console.log(data);
		})
		.catch((err)=>{
			console.log(err);
		});
	*/


	//Case 3:
	/*
	const getData = (resource,handleResponse)=>{
		const request = new XMLHttpRequest();

		request.addEventListener('readystatechange',()=>{
			if(request.readyState==4&&request.status==200){
				const data = JSON.parse(request.responseText);
				handleResponse(undefined,data);
			}else if(request.readyState==4){
				handleResponse('No Data found..',undefined);
			}
		});

		request.open('GET',resource);
		request.send();
	};	

	getData('https://jsonplaceholder.typicode.com/todos/1',(err,data)=>{
		console.log(data);
		getData('https://jsonplaceholder.typicode.com/todos/2',(err,data)=>{
			console.log(data);
			getData('https://jsonplaceholder.typicode.com/todos/3',(err,data)=>{
				console.log(data);
			})
		});
	});
	*/
	
	//Case 2:
	/*
	const getData = (resource,handleResponse)=>{
		const request = new XMLHttpRequest();

		request.addEventListener('readystatechange',()=>{
			if(request.readyState==4&&request.status==200){
				const data = JSON.parse(request.responseText);
				handleResponse(undefined,data);
			}else if(request.readyState==4){
				handleResponse('No Data found..',undefined);
			}
		});

		request.open('GET',resource);
		request.send();
	};	

	getData('https://jsonplaceholder.typicode.com/todos/1',(err,data)=>{
		if(err){
			console.log(err);
		}else{
			console.log(data);
		}
	});
	*/

	//Case 1:
	/*
	const getData = (handleResponse)=>{
		const request = new XMLHttpRequest();

		request.addEventListener('readystatechange',()=>{
			if(request.readyState==4&&request.status==200){
				const data = JSON.parse(request.responseText);
				handleResponse(undefined,data);
			}else if(request.readyState==4){
				handleResponse('No Data found..',undefined);
			}
		});

		request.open('GET','https://jsonplaceholder.typicode.com/todos/1');
		request.send();
	};	

	getData((err,data)=>{
		if(err){
			console.log(err);
		}else{
			console.log(data);
		}
	});
	*/

  </script>
 </body>
</html>
