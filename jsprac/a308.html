<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  
  <title>Document</title>
 </head>
 <body>
  

  <script>
	//Case 3b:
	const getData = (resourceURL)=>{		
		return new Promise((resolve,reject)=>{
			const request = new XMLHttpRequest();

			request.addEventListener('readystatechange',()=>{
				if(request.readyState==4&&request.status==200){
					const data = JSON.parse(request.responseText);
					resolve(data);
				}else if(request.readyState==4){
					reject('No data found...');
				}
			});

			request.open('GET',resourceURL);
			request.send();		
		});
	}; 

	getData('https://jsonplaceholder.typicode.com/todos/1')
		.then(data=>{
			console.log(data);
		}).catch(err=>{
			console.log(err);
		});

	getData('https://jsonplaceholder.typicode.com/todos/2').then((data)=>{
		console.log(data);
	}).catch((err)=>{
		console.log(err);
	});

	
	//Case 3a:
	/*
	const getData = (resourceURL)=>{
		
		return new Promise((resolve,reject)=>{
			if(0){
				resolve('some-data')
			}else{
				reject('err msg');
			}
		});
		
	};

	getData('some-url').then((data)=>{
		console.log(data);
	}).catch((err)=>{
		console.log(err);
	});
	*/
	
	
	//Case 2:
	/*
	const getData = (resourceURL,callBack)=>{
		
		const request = new XMLHttpRequest();

		request.addEventListener('readystatechange',()=>{
			if(request.readyState==4&&request.status==200){
				const data = JSON.parse(request.responseText);
				callBack(undefined,data);
			}else if(request.readyState==4){
				callBack('some-error',undefined);
			}
		});

		request.open('GET',resourceURL);
		request.send();
	}; 

	getData('https://jsonplaceholder.typicode.com/todos/1',(err,data)=>{
		if(err){
			console.log(err);
		}else{
			console.log(data);
		}
	});

	getData('https://jsonplaceholder.typicode.com/todos/2',(err,data)=>{
		if(err){
			console.log(err);
		}else{
			console.log(data);
		}
	});*/

	//Case 1:
	/*
	const getData = (callBack)=>{
		
		const request = new XMLHttpRequest();

		request.addEventListener('readystatechange',()=>{
			if(request.readyState==4&&request.status==200){
				const data = JSON.parse(request.responseText);
				callBack(undefined,data);
			}else if(request.readyState==4){
				callBack('some-error',undefined);
			}
		});

		request.open('GET','https://jsonplaceholder.typicode.com/todos/1');
		request.send();
	}; 

	getData((err,data)=>{
		if(err){
			console.log(err);
		}else{
			console.log(data);
		}
	});
	*/


  </script>
 </body>
</html>
