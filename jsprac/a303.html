<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  
  <title>Document</title>
 </head>
 <body>
  

  <script>
	const collectRecords = (responseHandler)=>{
		const request = new XMLHttpRequest();

		request.addEventListener('readystatechange',()=>{
			if(request.readyState==4 && request.status==200){
				const response = JSON.parse(request.responseText); 
				responseHandler(undefined,response);
			}else if(request.readyState==4){
				responseHandler('No matching records found',undefined);
			}
		});

		request.open('GET','https://jsonplaceholder.typicode.com/todo/1');
		request.send();
	};
	
	console.log(1);
	console.log(2);
	
	collectRecords((err,data)=>{
		console.log('response received...');
		if(err){
			console.log(err);
		}else{
			console.log(data);
		}
	});


	console.log(3);
	console.log(4);

  </script>
 </body>
</html>
